#pragma once

#include "wled.h"

static const uint32_t FRAMES_MARIO_3[2][14][14] PROGMEM = {
{
{0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x000f0000, 0x00240000, 0x00260000, 0x00290800, 0x00201d00, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000},
{0x00000000, 0x00000000, 0x00000000, 0x00170000, 0x00810000, 0x00cc0000, 0x00cb0000, 0x00cc1300, 0x00bc5b00, 0x003a0000, 0x003a0000, 0x00130000, 0x00000000, 0x00000000},
{0x00000000, 0x00000000, 0x00000000, 0x00410f00, 0x00a32600, 0x00a72400, 0x00c43608, 0x00b34339, 0x00b52c03, 0x00b22000, 0x00720000, 0x001d0000, 0x00000000, 0x00000000},
{0x00000000, 0x00000000, 0x00151700, 0x007c6e00, 0x00898500, 0x009d8c00, 0x00dcb218, 0x00cdd3b9, 0x00908909, 0x00bf9300, 0x00785e00, 0x007e7656, 0x00212329, 0x00000000},
{0x00000000, 0x00000000, 0x00272900, 0x00b39400, 0x00a79000, 0x00a09000, 0x00f1ba0a, 0x00f6cd49, 0x00c09e04, 0x00b69200, 0x00f9b800, 0x00ffdb42, 0x00453b1f, 0x00000000},
{0x00000000, 0x00000000, 0x00242400, 0x006e6a00, 0x009f8300, 0x00d0a500, 0x00f6b900, 0x00eab000, 0x008c7e00, 0x007e7b00, 0x009b8c00, 0x00645200, 0x00110c00, 0x00000000},
{0x00000000, 0x00000000, 0x00050500, 0x00111200, 0x00806400, 0x00d59400, 0x00c99800, 0x00c49300, 0x00b48300, 0x00b69000, 0x005d4c00, 0x00010300, 0x00000000, 0x00000000},
{0x00000000, 0x00000000, 0x00030300, 0x00373800, 0x006d6d00, 0x00953500, 0x007b4c00, 0x00786200, 0x009a3600, 0x00574200, 0x000e0f00, 0x00000000, 0x00000000, 0x00000000},
{0x00000000, 0x00070700, 0x00353600, 0x006f7000, 0x00777b00, 0x007c7c00, 0x00ae4800, 0x008a5800, 0x00975100, 0x00a74100, 0x00372600, 0x00000000, 0x00000000, 0x00000000},
{0x00000000, 0x001b1b00, 0x006b6c00, 0x00606300, 0x008f8300, 0x00986000, 0x00d76600, 0x00be0500, 0x00c82000, 0x00dc4d00, 0x004e0000, 0x00000000, 0x00000000, 0x00000000},
{0x00000000, 0x000d0d00, 0x00454700, 0x007e7400, 0x00dba900, 0x00e47900, 0x00d20b00, 0x00d90000, 0x00d40000, 0x00c50000, 0x009e3600, 0x00352a00, 0x00000000, 0x00000000},
{0x00000000, 0x00000000, 0x000a0b00, 0x007b6100, 0x00dfa700, 0x00e46200, 0x00b50b00, 0x006a0000, 0x00d40000, 0x009a0000, 0x00552800, 0x00282000, 0x00000000, 0x00000000},
{0x00000000, 0x00000000, 0x00000000, 0x00171100, 0x00635600, 0x00825500, 0x00785100, 0x001d1700, 0x007d4800, 0x00755600, 0x00292f00, 0x00000000, 0x00000000, 0x00000000},
{0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x003a3b00, 0x00666c00, 0x00757b00, 0x00696b00, 0x005f6700, 0x006e7300, 0x00797a00, 0x00272700, 0x00000000, 0x00000000},
},
{
{0x00000000, 0x00000000, 0x00000000, 0x00100000, 0x007c0000, 0x00d20000, 0x00d20000, 0x00d71700, 0x00bf6b00, 0x00280000, 0x00290000, 0x000d0000, 0x00000000, 0x00000000},
{0x00000000, 0x00000000, 0x00000000, 0x00420900, 0x00a91a00, 0x00b21800, 0x00c62505, 0x00b32f27, 0x00bb2302, 0x00b21500, 0x00810000, 0x00230000, 0x00000000, 0x00000000},
{0x00000000, 0x00000000, 0x00101100, 0x006b5f00, 0x00837d00, 0x00928200, 0x00d4aa17, 0x00c7cab3, 0x008e8308, 0x00b38600, 0x005d4700, 0x005f5943, 0x00191a20, 0x00000000},
{0x00000000, 0x00000000, 0x00272a00, 0x00b89800, 0x00a99200, 0x00a79300, 0x00f3bc0d, 0x00f3d260, 0x00bc9d05, 0x00c49b00, 0x00fcba00, 0x00ffe155, 0x00463e28, 0x00000000},
{0x00000000, 0x00000000, 0x00242500, 0x00797100, 0x00a08500, 0x00c39e00, 0x00f4b900, 0x00eeb300, 0x00938200, 0x007a7700, 0x00a79200, 0x007d6400, 0x00181100, 0x00000000},
{0x00000000, 0x00000000, 0x000c0c00, 0x001a1c00, 0x00856700, 0x00dca000, 0x00d4a000, 0x00cb9900, 0x00ad8600, 0x00b79300, 0x00655500, 0x00020500, 0x00000000, 0x00000000},
{0x00000000, 0x001a1b00, 0x00575800, 0x00545500, 0x00696700, 0x009a3700, 0x00805900, 0x007e6300, 0x00a13b00, 0x005e4e00, 0x00161400, 0x000d0a00, 0x00110d00, 0x00100c00},
{0x00372d00, 0x00736c00, 0x00797b00, 0x007a7d00, 0x00747c00, 0x006c6200, 0x00941c00, 0x00825a00, 0x008e4500, 0x00891c00, 0x005c5300, 0x008e7800, 0x00bd8e00, 0x00c08f00},
{0x00edb200, 0x00dfac00, 0x006d6700, 0x005e4b00, 0x00794c00, 0x00774a00, 0x00a11200, 0x00bc2e00, 0x00b20300, 0x00bd1800, 0x00874600, 0x004a5000, 0x00846700, 0x00997200},
{0x00daa300, 0x00d5a000, 0x00423a00, 0x004b0000, 0x00b00000, 0x00a70000, 0x00bb0c00, 0x00e55a00, 0x00d40000, 0x00e13100, 0x006b3f00, 0x00000000, 0x00000000, 0x00000000},
{0x00664c00, 0x005a3100, 0x00530000, 0x007d0000, 0x00b90000, 0x00c00000, 0x00c30000, 0x00c10000, 0x00be0000, 0x00b70000, 0x007d0000, 0x00482600, 0x00383f00, 0x000a0b00},
{0x00020400, 0x004b4000, 0x00a03200, 0x00bb0000, 0x00c00000, 0x00b90000, 0x004f0000, 0x004b0000, 0x00a60000, 0x00b50000, 0x00ae2800, 0x007b6900, 0x00b19800, 0x00292000},
{0x00111200, 0x00616600, 0x00736e00, 0x00a23200, 0x005f0100, 0x00280000, 0x00000000, 0x00000000, 0x00290000, 0x005f0000, 0x008d3600, 0x00a89600, 0x00e9ae00, 0x002d2100},
{0x00030300, 0x00262600, 0x00666b00, 0x006f6400, 0x00262000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00070000, 0x003b2f00, 0x00caa300, 0x00664b00, 0x00070600},
},
};

static const char MARIO_3[] PROGMEM = "Mario 3@Speed;;;2";

uint16_t mario_3(void) {
  const int num_frames = sizeof(FRAMES_MARIO_3) / sizeof(FRAMES_MARIO_3[0]);

  if (SEGENV.step >= num_frames - 1) {
    SEGENV.step = 0;
  } else {
    SEGENV.step += 1;
  }

  for (int y = 0; y < 14; y++) {
    for (int x = 0; x < 14; x++) {
      SEGMENT.setPixelColorXY(x, y, FRAMES_MARIO_3[SEGENV.step][y][x]);
    }
  }

  return 200;
}
